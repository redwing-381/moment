<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Moment - Real-time AI-powered Enterprise Security Platform">
  <title>Moment - Enterprise Security</title>
  
  <link rel="icon" type="image/png" href="/static/assets/logo.png">
  <link rel="apple-touch-icon" href="/static/assets/logo.png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body { width: 100%; height: 100%; overflow: hidden; }
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: #000; color: #fff; -webkit-font-smoothing: antialiased;
    }
    .container { position: fixed; inset: 0; display: flex; align-items: center; justify-content: center; overflow: hidden; background: #000; }
    .header { position: fixed; top: 0; left: 0; right: 0; z-index: 50; padding: 1rem 1.5rem; }
    .header-inner { max-width: 1400px; margin: 0 auto; margin-top: 0.5rem; display: flex; align-items: center; justify-content: space-between; }
    .logo { display: flex; align-items: center; gap: 10px; text-decoration: none; font-size: 1.5rem; font-weight: 500; letter-spacing: -0.02em; color: #fff; }
    .logo img { width: 32px; height: 32px; }
    .logo-highlight {
      background: linear-gradient(135deg, #FF0080, #7928CA, #0070F3, #38bdf8, #FF0080);
      background-size: 200% auto; -webkit-background-clip: text; -webkit-text-fill-color: transparent;
      background-clip: text; animation: aurora 10s linear infinite;
    }
    @keyframes aurora { 0% { background-position: 0% center; } 100% { background-position: 200% center; } }
    .header-actions { display: flex; align-items: center; gap: 16px; }

    /* Interactive Hover Button (Dashboard) */
    .btn-interactive {
      position: relative; display: inline-flex; align-items: center; gap: 8px;
      padding: 10px 24px; font-size: 14px; font-weight: 600; color: #fff;
      background: transparent; border: 1px solid rgba(255,255,255,0.2);
      border-radius: 100px; cursor: pointer; overflow: hidden; text-decoration: none;
      transition: all 0.3s ease;
    }
    .btn-interactive .dot { width: 8px; height: 8px; border-radius: 50%; background: #3b82f6; transition: transform 0.3s ease; }
    .btn-interactive .text { transition: all 0.3s ease; }
    .btn-interactive .hover-content {
      position: absolute; top: 0; left: 0; right: 0; bottom: 0;
      display: flex; align-items: center; justify-content: center; gap: 8px;
      transform: translateX(100%); opacity: 0; transition: all 0.3s ease; color: #fff;
    }
    .btn-interactive:hover { background: rgba(59, 130, 246, 0.1); border-color: rgba(59, 130, 246, 0.5); }
    .btn-interactive:hover .dot { transform: scale(100); }
    .btn-interactive:hover .text { transform: translateX(-100%); opacity: 0; }
    .btn-interactive:hover .hover-content { transform: translateX(0); opacity: 1; }

    /* ============================================
       SHIMMER BUTTON - Exact from magicui
       ============================================ */
    .shimmer-button {
      --spread: 90deg;
      --shimmer-color: #ffffff;
      --radius: 100px;
      --speed: 3s;
      --cut: 0.05em;
      --bg: rgba(0, 0, 0, 1);
      
      position: relative;
      z-index: 0;
      display: inline-flex;
      cursor: pointer;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      white-space: nowrap;
      border: 1px solid rgba(255, 255, 255, 0.1);
      padding: 12px 24px;
      font-size: 14px;
      font-weight: 500;
      color: white;
      background: var(--bg);
      border-radius: var(--radius);
      text-decoration: none;
      
      /* GPU acceleration */
      transform: translateZ(0);
      transition: transform 300ms ease-in-out;
      
      /* The glow effect */
      box-shadow: 0 25px 50px -12px rgba(99, 102, 241, 0.25),
                  0 0 40px 8px rgba(99, 102, 241, 0.15);
    }
    
    .shimmer-button:active {
      transform: translateY(1px);
    }
    
    /* Spark container - holds the animated shimmer */
    .shimmer-button::before {
      content: '';
      position: absolute;
      inset: -200%;
      background: conic-gradient(
        from 270deg,
        transparent 0deg,
        var(--shimmer-color) 90deg,
        transparent 180deg
      );
      animation: shimmer-spin 3s linear infinite;
      z-index: -2;
    }
    
    /* Backdrop - covers most of the shimmer, leaving edge visible */
    .shimmer-button::after {
      content: '';
      position: absolute;
      inset: 1px;
      background: var(--bg);
      border-radius: calc(var(--radius) - 1px);
      z-index: -1;
    }
    
    @keyframes shimmer-spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    
    /* Inner highlight effect */
    .shimmer-button .highlight {
      position: absolute;
      inset: 0;
      border-radius: inherit;
      box-shadow: inset 0 -8px 10px rgba(255, 255, 255, 0.12);
      transition: box-shadow 300ms ease-in-out;
      pointer-events: none;
    }
    
    .shimmer-button:hover .highlight {
      box-shadow: inset 0 -6px 10px rgba(255, 255, 255, 0.24);
    }
    
    .shimmer-button:active .highlight {
      box-shadow: inset 0 -10px 10px rgba(255, 255, 255, 0.24);
    }
    
    .shimmer-button .btn-text {
      position: relative;
      z-index: 1;
    }

    /* Content */
    .content { position: relative; width: 100%; height: 100%; max-width: 1000px; max-height: 1000px; display: flex; flex-direction: column; align-items: center; justify-content: center; }
    
    /* Badge */
    .badge {
      position: relative; display: inline-flex; align-items: center; gap: 8px;
      padding: 6px 16px; margin-bottom: 2.5rem; border-radius: 9999px; background: transparent;
      box-shadow: inset 0 -8px 10px rgba(143, 223, 255, 0.12); transition: box-shadow 0.5s ease; cursor: pointer;
    }
    .badge:hover { box-shadow: inset 0 -5px 10px rgba(143, 223, 255, 0.24); }
    .badge::before {
      content: ''; position: absolute; inset: 0; border-radius: inherit; padding: 1px;
      background: linear-gradient(90deg, rgba(255,170,64,0.5), rgba(156,64,255,0.5), rgba(255,170,64,0.5));
      background-size: 300% 100%; animation: gradient-move 4s linear infinite;
      -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      -webkit-mask-composite: xor; mask-composite: exclude;
    }
    @keyframes gradient-move { 0% { background-position: 0% 50%; } 100% { background-position: 300% 50%; } }
    .badge-icon { font-size: 14px; }
    .badge-divider { width: 1px; height: 16px; background: rgba(255,255,255,0.3); flex-shrink: 0; }
    .badge-text {
      font-size: 14px; font-weight: 500;
      background: linear-gradient(90deg, #ffaa40, #9c40ff, #ffaa40); background-size: 300% 100%;
      -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
      animation: gradient-move 4s linear infinite;
    }
    .badge-arrow { color: rgba(255,255,255,0.5); font-size: 16px; transition: transform 0.3s ease; }
    .badge:hover .badge-arrow { transform: translateX(2px); }
    
    /* Hero Title - moved up 10% */
    .hero-title {
      z-index: 10; margin-bottom: 14rem; pointer-events: none; white-space: pre-wrap; text-align: center;
      font-size: clamp(2rem, 5vw, 3.5rem); font-weight: 600; line-height: 1.1;
      background: linear-gradient(180deg, #fff 0%, rgba(148, 163, 184, 0.8) 100%);
      -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
    }
    
    /* Globe - reduced by 10% */
    .globe-container { position: absolute; inset: 0; margin: auto; aspect-ratio: 1/1; width: 100%; max-width: 720px; top: 8rem; margin-top: 18rem; }
    #cobe-canvas { width: 100%; height: 100%; opacity: 0; transition: opacity 500ms ease; contain: layout paint size; cursor: grab; }
    #cobe-canvas:active { cursor: grabbing; }
    
    /* Enhanced gradient overlay */
    .gradient-overlay { 
      pointer-events: none; 
      position: absolute; 
      inset: 0; 
      background: 
        radial-gradient(circle at 50% 120%, rgba(99, 102, 241, 0.15), transparent 40%),
        radial-gradient(circle at 30% 80%, rgba(236, 72, 153, 0.08), transparent 30%),
        radial-gradient(circle at 70% 80%, rgba(59, 130, 246, 0.08), transparent 30%);
    }
    
    /* Floating particles effect */
    .particles {
      position: absolute;
      inset: 0;
      pointer-events: none;
      overflow: hidden;
    }
    .particle {
      position: absolute;
      width: 4px;
      height: 4px;
      background: rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      animation: float-up 15s linear infinite;
    }
    .particle:nth-child(1) { left: 10%; animation-delay: 0s; animation-duration: 12s; }
    .particle:nth-child(2) { left: 20%; animation-delay: 2s; animation-duration: 14s; }
    .particle:nth-child(3) { left: 30%; animation-delay: 4s; animation-duration: 11s; }
    .particle:nth-child(4) { left: 40%; animation-delay: 1s; animation-duration: 16s; }
    .particle:nth-child(5) { left: 50%; animation-delay: 3s; animation-duration: 13s; }
    .particle:nth-child(6) { left: 60%; animation-delay: 5s; animation-duration: 15s; }
    .particle:nth-child(7) { left: 70%; animation-delay: 2s; animation-duration: 12s; }
    .particle:nth-child(8) { left: 80%; animation-delay: 4s; animation-duration: 14s; }
    .particle:nth-child(9) { left: 90%; animation-delay: 1s; animation-duration: 11s; }
    
    @keyframes float-up {
      0% { transform: translateY(100vh) scale(0); opacity: 0; }
      10% { opacity: 0.6; }
      90% { opacity: 0.6; }
      100% { transform: translateY(-100vh) scale(1); opacity: 0; }
    }
    
    /* Subtle grid background */
    .grid-bg {
      position: absolute;
      inset: 0;
      pointer-events: none;
      background-image: 
        linear-gradient(rgba(255,255,255,0.02) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255,255,255,0.02) 1px, transparent 1px);
      background-size: 60px 60px;
      mask-image: radial-gradient(ellipse at center, black 20%, transparent 70%);
      -webkit-mask-image: radial-gradient(ellipse at center, black 20%, transparent 70%);
    }
    
    .arrow-icon { width: 16px; height: 16px; stroke: currentColor; stroke-width: 2; fill: none; }
    
    @media (max-width: 768px) {
      .header { padding: 1rem; } .header-actions { gap: 8px; }
      .btn-interactive, .shimmer-button { padding: 8px 16px; font-size: 13px; }
      .hero-title { font-size: 1.75rem; margin-bottom: 8rem; padding: 0 1rem; }
      .globe-container { max-width: 450px; }
    }
  </style>
</head>
<body>
  <div class="container">
    <header class="header">
      <div class="header-inner">
        <a href="/" class="logo">
          <img src="/static/assets/logo.png" alt="Moment" onerror="this.style.display='none'">
          <span>Moment <span class="logo-highlight">Security</span></span>
        </a>
        <div class="header-actions">
          <a href="/dashboard" class="btn-interactive">
            <span class="dot"></span>
            <span class="text">Dashboard</span>
            <span class="hover-content">Dashboard <svg class="arrow-icon" viewBox="0 0 24 24"><path d="M5 12h14M12 5l7 7-7 7"/></svg></span>
          </a>
          <a href="/dashboard" class="shimmer-button">
            <span class="highlight"></span>
            <span class="btn-text">Try Now</span>
          </a>
        </div>
      </div>
    </header>
    <div class="content">
      <div class="badge">
        <span class="badge-icon">üõ°Ô∏è</span>
        <span class="badge-divider"></span>
        <span class="badge-text">Introducing Moment Security</span>
        <span class="badge-arrow">‚Ä∫</span>
      </div>
      <h1 class="hero-title">Protect your enterprise in real-time<br>using AI-powered threat detection.</h1>
      
      <div class="globe-container"><canvas id="cobe-canvas"></canvas></div>
      
      <!-- Background effects -->
      <div class="grid-bg"></div>
      <div class="particles">
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
      </div>
      <div class="gradient-overlay"></div>
    </div>
  </div>
  <script type="module">
    import createGlobe from 'https://cdn.skypack.dev/cobe@0.6.3';
    
    let globe = null;
    let phi = 0;
    let width = 0;
    let pointerInteracting = null;
    let pointerInteractionMovement = 0;
    
    const MOVEMENT_DAMPING = 1400;
    
    const markers = [
      { location: [37.7749, -122.4194], size: 0.1 },
      { location: [40.7128, -74.006], size: 0.08 },
      { location: [51.5074, -0.1278], size: 0.08 },
      { location: [35.6762, 139.6503], size: 0.07 },
      { location: [1.3521, 103.8198], size: 0.06 },
      { location: [52.52, 13.405], size: 0.06 },
      { location: [-33.8688, 151.2093], size: 0.05 },
      { location: [19.076, 72.8777], size: 0.08 },
      { location: [55.7558, 37.6173], size: 0.05 },
      { location: [-23.5505, -46.6333], size: 0.06 },
    ];
    
    function initGlobe() {
      const canvas = document.getElementById('cobe-canvas');
      if (!canvas) {
        console.error('Canvas not found');
        return;
      }
      
      // Destroy existing globe if any
      if (globe) {
        try { globe.destroy(); } catch(e) {}
        globe = null;
      }
      
      // Reset canvas
      canvas.style.opacity = '0';
      
      // Wait for layout
      setTimeout(() => {
        width = canvas.offsetWidth || 600;
        
        globe = createGlobe(canvas, {
          devicePixelRatio: 2,
          width: width * 2,
          height: width * 2,
          phi: 0,
          theta: 0.3,
          dark: 0,
          diffuse: 0.4,
          mapSamples: 16000,
          mapBrightness: 1.2,
          baseColor: [1, 1, 1],
          markerColor: [251/255, 100/255, 21/255],
          glowColor: [1, 1, 1],
          markers: markers,
          onRender: (state) => {
            if (pointerInteracting === null) {
              phi += 0.005;
            }
            state.phi = phi + pointerInteractionMovement;
            state.width = width * 2;
            state.height = width * 2;
          }
        });
        
        // Show canvas after globe is initialized
        setTimeout(() => {
          canvas.style.opacity = '1';
        }, 100);
        
        // Pointer events for interaction
        canvas.onpointerdown = (e) => {
          pointerInteracting = e.clientX;
          canvas.style.cursor = 'grabbing';
        };
        
        canvas.onpointerup = () => {
          pointerInteracting = null;
          canvas.style.cursor = 'grab';
        };
        
        canvas.onpointerout = () => {
          pointerInteracting = null;
          canvas.style.cursor = 'grab';
        };
        
        canvas.onmousemove = (e) => {
          if (pointerInteracting !== null) {
            const delta = e.clientX - pointerInteracting;
            pointerInteractionMovement += delta / MOVEMENT_DAMPING;
            pointerInteracting = e.clientX;
          }
        };
        
        canvas.ontouchmove = (e) => {
          if (e.touches[0] && pointerInteracting !== null) {
            const delta = e.touches[0].clientX - pointerInteracting;
            pointerInteractionMovement += delta / MOVEMENT_DAMPING;
            pointerInteracting = e.touches[0].clientX;
          }
        };
        
        console.log('Globe initialized successfully');
      }, 50);
    }
    
    // Initialize on first load
    initGlobe();
    
    // Re-initialize when navigating back (bfcache)
    window.addEventListener('pageshow', (event) => {
      if (event.persisted) {
        console.log('Page restored from bfcache, re-initializing globe');
        initGlobe();
      }
    });
    
    // Handle resize
    window.addEventListener('resize', () => {
      const canvas = document.getElementById('cobe-canvas');
      if (canvas) {
        width = canvas.offsetWidth;
      }
    });
    
    // Cleanup on page hide
    window.addEventListener('pagehide', () => {
      if (globe) {
        try { globe.destroy(); } catch(e) {}
        globe = null;
      }
    });
  </script>
</body>
</html>
